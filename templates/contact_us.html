{% extends "layout.html" %}

{% block title %}
    Contact Us...
{% endblock %}

{% block main %}
    <form action="/contact_us" method="post" class="needs-validation" novalidate>
        <div class="card col-md-10 col-lg-10 p-0">
            <div class="card-header">
                <h2>Welcome{% if name %} {{ name }}{% endif %}...</h2>
            </div>
            <div class="card-body">
                <div class="form-group">
                    <label for="id" class="col-form-label">Roll Number/Username</label>
                    <input type="text" class="form-control col-5" name="id" id="id" {% if id %} placeholder="{{ id }}" value="{{ id }}" readonly {% else %} autofocus placeholder="Your Roll Number/Username" {% endif %} autocomplete="off">
                </div>
                <div class="form-group">
                    <label for="query">Your Comment/Query... <span style="color: red;">(required)</span></label>
                    <textarea class="form-control" name="query" id="query" autofocus placeholder="Any specific query or comment you have..." wrap="hard" required autocomplete="off"></textarea>
                    <div class="invalid-feedback">
                        Required.
                    </div>
                </div>
                <div style="float: right;">
                    <button class="btn btn-primary" type="submit">Submit</button>
                </div>
            </div>
        </div>
    </form>

    <script>
        (function() {
            'use strict';
            window.addEventListener('load', function() {
              var form = document.getElementsByClassName('needs-validation')[0];
                form.addEventListener('submit', function(event) {
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                });
            }, false);
        })();
    </script>
{% endblock %}